import sunCalc from "suncalc";
export default function (rate, latitude, longitude) {
    const now = new Date();
    const times = sunCalc.getTimes(new Date(), latitude, longitude);
    if (+now - +times.sunrise < 120000 && +now - +times.sunrise > 0) {
        return "sunrise";
    }
    if (+now - +times.sunset > -120000 && +now - +times.sunset < 0) {
        return "sunset";
    }
    if (Math.random() < rate) {
        if (+now > +times.sunset || +now < +times.sunrise) {
            return "night";
        }
        return "day";
    }
    return "";
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZmxpcC1jb2luLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2ZsaXAtY29pbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLE9BQU8sTUFBTSxTQUFTLENBQUM7QUFFOUIsTUFBTSxDQUFDLE9BQU8sV0FBVyxJQUFZLEVBQUUsUUFBZ0IsRUFBRSxTQUFpQjtJQUN4RSxNQUFNLEdBQUcsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO0lBQ3ZCLE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxJQUFJLEVBQUUsRUFBRSxRQUFRLEVBQUUsU0FBUyxDQUFDLENBQUM7SUFFaEUsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxPQUFPLEdBQUcsTUFBTSxJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxDQUFDLEVBQUUsQ0FBQztRQUNoRSxPQUFPLFNBQVMsQ0FBQztJQUNuQixDQUFDO0lBRUQsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxNQUFNLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO1FBQy9ELE9BQU8sUUFBUSxDQUFDO0lBQ2xCLENBQUM7SUFFRCxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxJQUFJLEVBQUUsQ0FBQztRQUN6QixJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLE1BQU0sSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQztZQUNsRCxPQUFPLE9BQU8sQ0FBQztRQUNqQixDQUFDO1FBRUQsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0lBRUQsT0FBTyxFQUFFLENBQUM7QUFDWixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHN1bkNhbGMgZnJvbSBcInN1bmNhbGNcIjtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHJhdGU6IG51bWJlciwgbGF0aXR1ZGU6IG51bWJlciwgbG9uZ2l0dWRlOiBudW1iZXIpIHtcbiAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgY29uc3QgdGltZXMgPSBzdW5DYWxjLmdldFRpbWVzKG5ldyBEYXRlKCksIGxhdGl0dWRlLCBsb25naXR1ZGUpO1xuXG4gIGlmICgrbm93IC0gK3RpbWVzLnN1bnJpc2UgPCAxMjAwMDAgJiYgK25vdyAtICt0aW1lcy5zdW5yaXNlID4gMCkge1xuICAgIHJldHVybiBcInN1bnJpc2VcIjtcbiAgfVxuXG4gIGlmICgrbm93IC0gK3RpbWVzLnN1bnNldCA+IC0xMjAwMDAgJiYgK25vdyAtICt0aW1lcy5zdW5zZXQgPCAwKSB7XG4gICAgcmV0dXJuIFwic3Vuc2V0XCI7XG4gIH1cblxuICBpZiAoTWF0aC5yYW5kb20oKSA8IHJhdGUpIHtcbiAgICBpZiAoK25vdyA+ICt0aW1lcy5zdW5zZXQgfHwgK25vdyA8ICt0aW1lcy5zdW5yaXNlKSB7XG4gICAgICByZXR1cm4gXCJuaWdodFwiO1xuICAgIH1cblxuICAgIHJldHVybiBcImRheVwiO1xuICB9XG5cbiAgcmV0dXJuIFwiXCI7XG59XG4iXX0=